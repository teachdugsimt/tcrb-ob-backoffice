{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/admin/Desktop/tcrb-ob-project/tcrb-ob-backoffice-frontend/components/business-parameters-setup/pending-approvals.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { Table, Popconfirm } from 'antd';\nimport { inject, observer } from 'mobx-react';\nimport { DownOutlined } from '@ant-design/icons';\nimport { withTranslation } from '../../i18n';\nvar PendingApprovals = inject('businessParametersSetupStore')(observer(_s(function (props) {\n  _s();\n\n  var _useState = useState(expand),\n      expandable = _useState[0],\n      setExpandable = _useState[1];\n\n  var _useState2 = useState(true),\n      hasData = _useState2[0],\n      setHasData = _useState2[1];\n\n  var _useState3 = useState('none'),\n      top = _useState3[0],\n      setTop = _useState3[1];\n\n  var _useState4 = useState(\"bottomRight\"),\n      bottom = _useState4[0],\n      setBottom = _useState4[1];\n\n  var _useState5 = useState([]),\n      pendingApprovalData = _useState5[0],\n      setPendingApprovalData = _useState5[1];\n\n  var businessParametersSetupStore = props.businessParametersSetupStore,\n      t = props.t;\n  var expand = {\n    expandedRowRender: function expandedRowRender(record) {\n      return __jsx(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 53\n        }\n      }, record.description);\n    }\n  };\n  var columns = [{\n    title: 'Ticket#',\n    dataIndex: 'action'\n  }, {\n    title: 'Request Type',\n    dataIndex: 'change_type'\n  }, {\n    title: 'Request Description',\n    dataIndex: 'description'\n  }, {\n    title: 'Request ID',\n    dataIndex: 'maker_id'\n  }, {\n    title: 'Request Date',\n    dataIndex: 'requested_date'\n  }, {\n    title: 'Action',\n    key: 'action',\n    render: function render(record) {\n      return __jsx(\"span\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }\n      }, __jsx(Popconfirm, {\n        title: t(\"sureAccept\"),\n        onConfirm: function onConfirm() {\n          return processPending(\"APPROVE\", record);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 15\n        }\n      }, __jsx(\"a\", {\n        style: {\n          marginRight: 16\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }\n      }, \"Accept\")), __jsx(Popconfirm, {\n        title: t(\"sureReject\"),\n        onConfirm: function onConfirm() {\n          return processPending(\"REJECT\", record);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }\n      }, __jsx(\"a\", {\n        style: {\n          marginRight: 16\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }\n      }, \"Reject\")));\n    }\n  }];\n  useEffect(function () {\n    // call api\n    var data = {\n      filter: {}\n    };\n    businessParametersSetupStore.getPendingApprove(data);\n  }, []);\n  useEffect(function () {\n    if (businessParametersSetupStore.pendingApprovals.length > 0) {\n      setPendingApprovalData(businessParametersSetupStore.pendingApprovals);\n    }\n  }, [businessParametersSetupStore.pendingApprovals]);\n  useMemo(function () {\n    // setPendingApprovalData(businessParametersSetupStore.pendingApprovals)\n    console.log('render');\n  }, []);\n\n  var processPending = function processPending(status, record) {\n    var data = {\n      allowAction: status,\n      data: record,\n      id: record.id\n    };\n    businessParametersSetupStore.setTmpPendingListID(record.id);\n    businessParametersSetupStore.processPendingListApprove(data);\n  };\n\n  var tableColumns = columns.map(function (item) {\n    return _objectSpread({}, item);\n  });\n  return __jsx(Table, {\n    pagination: {\n      position: [top, bottom]\n    },\n    columns: tableColumns,\n    dataSource: businessParametersSetupStore.responseGetPendingApproveList // dataSource={pendingApprovalData}\n    // scroll={scroll}\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  });\n}, \"6m9VeN/TRETdxo5BKoLRPrsICq0=\")));\nexport default withTranslation('common')(PendingApprovals);","map":{"version":3,"sources":["/Users/admin/Desktop/tcrb-ob-project/tcrb-ob-backoffice-frontend/components/business-parameters-setup/pending-approvals.js"],"names":["React","useState","useEffect","useMemo","Table","Popconfirm","inject","observer","DownOutlined","withTranslation","PendingApprovals","props","expand","expandable","setExpandable","hasData","setHasData","top","setTop","bottom","setBottom","pendingApprovalData","setPendingApprovalData","businessParametersSetupStore","t","expandedRowRender","record","description","columns","title","dataIndex","key","render","processPending","marginRight","data","filter","getPendingApprove","pendingApprovals","length","console","log","status","allowAction","id","setTmpPendingListID","processPendingListApprove","tableColumns","map","item","position","responseGetPendingApproveList"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useMemo } from 'react'\nimport { Table, Popconfirm } from 'antd';\nimport { inject, observer } from 'mobx-react'\nimport { DownOutlined } from '@ant-design/icons';\nimport { withTranslation } from '../../i18n'\n\nconst PendingApprovals =\n  inject('businessParametersSetupStore')\n    (observer((props) => {\n      const [expandable, setExpandable] = useState(expand)\n      const [hasData, setHasData] = useState(true)\n      const [top, setTop] = useState('none')\n      const [bottom, setBottom] = useState(\"bottomRight\")\n      const [pendingApprovalData, setPendingApprovalData] = useState([])\n      const { businessParametersSetupStore, t } = props\n      const expand = { expandedRowRender: record => <p>{record.description}</p> };\n      const columns = [\n        {\n          title: 'Ticket#',\n          dataIndex: 'action',\n        },\n        {\n          title: 'Request Type',\n          dataIndex: 'change_type',\n        },\n        {\n          title: 'Request Description',\n          dataIndex: 'description',\n        },\n        {\n          title: 'Request ID',\n          dataIndex: 'maker_id',\n        },\n        {\n          title: 'Request Date',\n          dataIndex: 'requested_date',\n        },\n        {\n          title: 'Action',\n          key: 'action',\n          render: (record) => (\n            <span>\n              <Popconfirm title={t(\"sureAccept\")}\n                onConfirm={() => processPending(\"APPROVE\", record)}  >\n                <a style={{ marginRight: 16 }}>Accept</a>\n              </Popconfirm>\n\n              <Popconfirm title={t(\"sureReject\")}\n                onConfirm={() => processPending(\"REJECT\", record)}>\n                <a style={{ marginRight: 16 }}>Reject</a>\n              </Popconfirm>\n            </span>\n          ),\n        },\n      ];\n\n      useEffect(() => {\n        // call api\n        const data = {\n          filter: {}\n        }\n        businessParametersSetupStore.getPendingApprove(data)\n      }, [])\n\n      useEffect(() => {\n        if (businessParametersSetupStore.pendingApprovals.length > 0) {\n          setPendingApprovalData(businessParametersSetupStore.pendingApprovals)\n        }\n      }, [businessParametersSetupStore.pendingApprovals])\n\n      useMemo(() => {\n        // setPendingApprovalData(businessParametersSetupStore.pendingApprovals)\n        console.log('render')\n      }, [])\n\n      const processPending = (status, record) => {\n        let data = {\n          allowAction: status,\n          data: record,\n          id: record.id\n        }\n        businessParametersSetupStore.setTmpPendingListID(record.id)\n        businessParametersSetupStore.processPendingListApprove(data)\n      }\n\n      const tableColumns = columns.map(item => ({ ...item }));\n\n      return (\n        <Table\n          pagination={{ position: [top, bottom] }}\n          columns={tableColumns}\n          dataSource={businessParametersSetupStore.responseGetPendingApproveList}\n        // dataSource={pendingApprovalData}\n        // scroll={scroll}\n        />\n      )\n    }))\n\nexport default withTranslation('common')(PendingApprovals)\n\n"]},"metadata":{},"sourceType":"module"}