{"ast":null,"code":"import \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/popconfirm/style\";\nimport _Popconfirm from \"antd/lib/popconfirm\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/admin/Desktop/tcrb-ob-project/tcrb-ob-backoffice-frontend/components/business-parameters-setup/product-limit-setup.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, createRef } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { withTranslation } from '../../i18n';\nimport styled from 'styled-components';\nimport { toJS } from 'mobx';\nimport SimpleMenu from '../simple-menu';\nimport SimpleInput from '../simple-input';\nimport SimpleModal from '../simple-modal';\nvar Option = _Select.Option;\n\nvar EditableCell = function EditableCell(_ref) {\n  var editing = _ref.editing,\n      dataIndex = _ref.dataIndex,\n      title = _ref.title,\n      inputType = _ref.inputType,\n      record = _ref.record,\n      index = _ref.index,\n      children = _ref.children,\n      restProps = _objectWithoutProperties(_ref, [\"editing\", \"dataIndex\", \"title\", \"inputType\", \"record\", \"index\", \"children\"]);\n\n  // const inputNode = inputType === 'number' ? <InputNumber /> : <Input />;\n  return __jsx(\"td\", _extends({}, restProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }), editing ? __jsx(Form.Item, {\n    name: dataIndex,\n    style: {\n      margin: 0\n    },\n    rules: [{\n      required: true,\n      message: \"Please Input \".concat(title, \"!\")\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, __jsx(_Input, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  })) : children);\n};\n\n_c = EditableCell;\nvar ProductLimitSetup = inject('businessParametersSetupStore')(observer(_s(function (props) {\n  _s();\n\n  var _useState = useState([]),\n      dataSource = _useState[0],\n      setDataSource = _useState[1];\n\n  var _useState2 = useState(false),\n      viewDetailProduct = _useState2[0],\n      setViewDetailProduct = _useState2[1];\n\n  var _useState3 = useState(false),\n      visible = _useState3[0],\n      setVisble = _useState3[1];\n\n  var _useState4 = useState(''),\n      modalString = _useState4[0],\n      setModalString = _useState4[1];\n\n  var _useState5 = useState(false),\n      showLimitPartner = _useState5[0],\n      setShowLimitPartner = _useState5[1];\n\n  var businessParametersSetupStore = props.businessParametersSetupStore,\n      t = props.t;\n  var txnLimit,\n      dailyLimit = '';\n  useEffect(function () {\n    // setDataSource(mockDataSource)\n    businessParametersSetupStore.getDataProductLimit();\n  }, []);\n  useEffect(function () {\n    if (businessParametersSetupStore.productLimit.length > 0) {\n      addKeyToDataSource(businessParametersSetupStore.productLimit).then(function (result) {\n        setDataSource(result);\n      });\n    }\n  }, [businessParametersSetupStore.productLimit]);\n\n  var handleDelete = function handleDelete(key) {\n    // const dataSource = [...this.state.dataSource];\n    // setDataSource(dataSource.filter(item => item.key !== key))\n    console.log(key);\n  };\n\n  var addKeyToDataSource = function addKeyToDataSource(arrayDataSource) {\n    var newDataSource = arrayDataSource;\n\n    for (var index = 0; index < newDataSource.length; index++) {\n      newDataSource[index].key = index + 1;\n    }\n\n    return new Promise(function (resolve) {\n      resolve(newDataSource);\n    });\n  };\n\n  var convertToArrayOptionSelect = function convertToArrayOptionSelect(arrayObject) {\n    var result = arrayObject.map(function (partnerList) {\n      return [partnerList.partner_code, partnerList.partner_code + '/' + partnerList.partner_abbreviation];\n    });\n    return new Promise(function (resolve) {\n      return resolve(result);\n    });\n  };\n\n  var submitChangeLimit = function submitChangeLimit() {// txnLimit, dailyLimit\n    // call api\n  };\n\n  var submitChangeProductLimitSelect = function submitChangeProductLimitSelect() {\n    //call api\n    setVisble(true);\n    setModalString(__jsx(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }, __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, \" Change Product Code \", product_code, \" Limit !!!\")));\n  };\n\n  var selectPartnerChanel = function selectPartnerChanel(value) {\n    //partner_code, product_code\n    // businessParametersSetupStore.getPartnerChannel()\n    setShowLimitPartner(true);\n  };\n\n  var selectProductToViewDetail = function selectProductToViewDetail(rowSelected) {\n    //call api to get Detail Product\n    //input {\"product_code\": \"00006\"}\n    businessParametersSetupStore.productLimitDetail = {\n      id: 7,\n      created_on: \"2020-06-15T13:09:48.000Z\",\n      created_by: \"system\",\n      updated_on: null,\n      updated_by: null,\n      terminated_on: null,\n      terminated_by: null,\n      transaction_code: \"6619\",\n      partner_code: \"\",\n      transaction_limit: \"1000000\",\n      daily_limit: \"1000000\",\n      status: \"1\",\n      request_status: \"0\",\n      product_code: \"00006\",\n      product_description: \"Test Program - High LTV ดอกเบี้ยพิเศษ 9.99%\",\n      product_type: \"NG\"\n    }; // Output:\n    // {\n    //   responseCode:\"S0000\",\n    //   userMessage:\"Transaction successful\",\n    //   developerMessage:\"Normal success\",\n    //   responseDateTime:\"2020-06-18 14:43:04\",\n    // responseData: {\n    //   id:7,\n    //   created_on:\"2020-06-15T13:09:48.000Z\",\n    //   created_by:\"system\",\n    //   updated_on:null,\n    //   updated_by:null,\n    //   terminated_on:null,\n    //   terminated_by:null,\n    //   transaction_code:\"6619\",\n    //   partner_code:\"\",\n    //   transaction_limit:\"1000000\",\n    //   daily_limit:\"1000000\",\n    //   status:\"1\",\n    //   request_status:\"0\",\n    //   product_code:\"00006\",\n    //   product_description:\"Test Program - High LTV ดอกเบี้ยพิเศษ 9.99%\",\n    //   product_type:\"NG\"\n    // }\n    // }\n    //call api for channel/ partner\n    //Input:\n    // \"filter\": {\n    //   \"attributes\": [\"partner_code\", \"partner_abbreviation\"]\n    // }\n\n    setViewDetailProduct(true);\n  };\n\n  var addRowProductList = function addRowProductList() {\n    var newProduct = {\n      created_by: \"system\",\n      created_on: \"2020-06-15T13:09:48.000Z\",\n      daily_limit: \"1000000\",\n      id: 7,\n      partner_code: \"\",\n      product_code: \"00006\",\n      product_description: \"Test Program - High LTV ดอกเบี้ยพิเศษ 9.99%\",\n      product_type: \"NG\",\n      request_status: \"0\",\n      status: \"1\",\n      terminated_by: null,\n      terminated_on: null,\n      transaction_code: \"6619\",\n      transaction_limit: \"1000000\",\n      updated_by: null,\n      updated_on: null\n    };\n  };\n\n  var goBackProductList = function goBackProductList() {\n    setViewDetailProduct(false);\n  };\n\n  var columns = [{\n    // title: 'Specific Channel Limit',\n    dataIndex: 'operation',\n    render: function render(text, record) {\n      return dataSource.length >= 1 ? __jsx(_Popconfirm, {\n        title: \"Sure to delete?\",\n        onConfirm: function onConfirm() {\n          return businessParametersSetupStore.selectProductToDelete(record);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 15\n        }\n      }, __jsx(\"a\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 17\n        }\n      }, \"Delete\")) : null;\n    }\n  }, {\n    title: 'Product_Code',\n    dataIndex: 'product_code',\n    width: '10%',\n    editable: true\n  }, {\n    title: 'Product_Description',\n    dataIndex: 'product_description'\n  }, {\n    title: 'All-Channel Txn Limit',\n    dataIndex: 'TxnLimit'\n  }, {\n    title: 'All-Channel Daily Limit',\n    dataIndex: 'daily_limit'\n  }, {\n    title: 'Specific Channel Limit',\n    dataIndex: 'Specific'\n  }];\n  var mockDataSource = [{\n    key: '0',\n    ProductCode: 'NE',\n    ProductDescription: 'Revolving Loan-Non TCG Nano',\n    TxnLimit: '100,000.00',\n    DailyLimit: '100,000.00'\n  }, {\n    key: '1',\n    ProductCode: 'NG',\n    ProductDescription: 'Revolving Loan-Non TCG Micro',\n    TxnLimit: '200,000.00',\n    DailyLimit: '200,000.00'\n  }, {\n    key: '2',\n    ProductCode: 'NH',\n    ProductDescription: 'Revolving Loan-TCG Nano',\n    TxnLimit: '100,000.00',\n    DailyLimit: '100,000.00'\n  }];\n\n  var detailProduct = function detailProduct() {\n    var testOption = [{\n      partner_code: \"TMDS\",\n      partner_abbreviation: \"Micropay\",\n      partner_code_group: \"TMDS\"\n    }, {\n      partner_code: \"TRUM\",\n      partner_abbreviation: \"TrueWallet\",\n      partner_code_group: \"TRUM\"\n    }, {\n      partner_code: \"TMD1\",\n      partner_abbreviation: \"ThaiMicropay\",\n      partner_code_group: null\n    }, {\n      partner_code: \"OBCH\",\n      partner_abbreviation: \"TCRB\",\n      partner_code_group: null\n    }]; // var optionList = []\n    // convertToArrayOptionSelect(testOption).then((result) => {\n    //   optionList = result\n    // })\n\n    return __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 11\n      }\n    }, __jsx(_Card, {\n      style: {\n        padding: 8\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 13\n      }\n    }, __jsx(_Row, {\n      gutter: [4, 24],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 15\n      }\n    }, __jsx(_Col, {\n      span: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 17\n      }\n    }, \"Product_Code\"), __jsx(_Col, {\n      span: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 17\n      }\n    }, businessParametersSetupStore.productLimitDetail.product_type)), __jsx(_Row, {\n      gutter: [4, 24],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 15\n      }\n    }, __jsx(_Col, {\n      span: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 17\n      }\n    }, \"Product_Description\"), __jsx(_Col, {\n      span: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 17\n      }\n    }, businessParametersSetupStore.productLimitDetail.product_description))), __jsx(_Card, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 13\n      }\n    }, __jsx(_Row, {\n      gutter: [4, 24],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 15\n      }\n    }, __jsx(_Col, {\n      span: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 17\n      }\n    }, \"All-Channel Txn Limit\"), __jsx(_Col, {\n      span: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 17\n      }\n    }, businessParametersSetupStore.productLimitDetail.transaction_limit)), __jsx(_Row, {\n      gutter: [4, 24],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 15\n      }\n    }, __jsx(_Col, {\n      span: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 17\n      }\n    }, \"All-Channel Daily Limit\"), __jsx(_Col, {\n      span: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 17\n      }\n    }, businessParametersSetupStore.productLimitDetail.daily_limit))), __jsx(_Card, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 13\n      }\n    }, __jsx(_Row, {\n      gutter: [4, 24],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 15\n      }\n    }, __jsx(_Col, {\n      span: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 17\n      }\n    }, \"Channel/Partner\"), __jsx(_Col, {\n      span: 6,\n      flex: 100,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 17\n      }\n    }, __jsx(_Select, {\n      onChange: function onChange(value) {\n        return selectPartnerChanel(value);\n      },\n      style: {\n        width: '100%'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 19\n      }\n    }, testOption.map(function (item, index) {\n      return __jsx(Option, {\n        key: index,\n        value: item.partner_code,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 54\n        }\n      }, item.partner_code, \"/\", item.partner_abbreviation);\n    })))), showLimitPartner ? __jsx(React.Fragment, null, __jsx(_Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 19\n      }\n    }, __jsx(_Col, {\n      span: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 21\n      }\n    }, __jsx(SimpleInput, {\n      readOnly: false,\n      defaultValue: null,\n      prefix: 'Txn Limit',\n      onChange: function onChange(e) {\n        txnLimit = e;\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 23\n      }\n    })), __jsx(_Col, {\n      span: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 21\n      }\n    }, __jsx(\"p\", {\n      style: {\n        paddingTop: 4\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 23\n      }\n    }, \"THB\"))), __jsx(_Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 19\n      }\n    }, __jsx(_Col, {\n      span: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 21\n      }\n    }, __jsx(SimpleInput, {\n      readOnly: false,\n      defaultValue: null,\n      prefix: 'Daily Limit',\n      onChange: function onChange(e) {\n        dailyLimit = e;\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 23\n      }\n    })), __jsx(_Col, {\n      span: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 21\n      }\n    }, __jsx(\"p\", {\n      style: {\n        paddingTop: 4\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 23\n      }\n    }, \"THB\"))), __jsx(_Row, {\n      gutter: [4, 24],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 19\n      }\n    }, __jsx(_Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 21\n      }\n    }, __jsx(_Button, {\n      onClick: function onClick() {\n        submitChangeProductLimitSelect();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 23\n      }\n    }, \"Submit\")))) : ''), __jsx(_Row, {\n      justify: \"center\",\n      style: {\n        marginTop: 8\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 13\n      }\n    }, __jsx(_Col, {\n      span: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 15\n      }\n    }, __jsx(_Button, {\n      onClick: function onClick() {\n        return goBackProductList();\n      },\n      shape: \"round\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }\n    }, \"Back\")), __jsx(_Col, {\n      span: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 15\n      }\n    }, __jsx(_Button, {\n      shape: \"round\",\n      type: \"primary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 17\n      }\n    }, \"Submit\"))), __jsx(SimpleModal, {\n      onOk: function onOk() {\n        return unlockOTP();\n      },\n      onCancel: function onCancel() {\n        return closeModal();\n      },\n      okText: t(\"confirm\"),\n      cancelText: t(\"cancel\"),\n      modalString: modalString,\n      visible: visible,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 13\n      }\n    }));\n  };\n\n  var productList = function productList() {\n    return __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 11\n      }\n    }, __jsx(_Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 13\n      }\n    }, __jsx(_Button, {\n      // onClick={this.handleAdd}\n      type: \"primary\",\n      style: {\n        marginBottom: 16\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 15\n      }\n    }, \"Add a row\")), __jsx(_Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 13\n      }\n    }, __jsx(_Col, {\n      flex: 100,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 15\n      }\n    }, __jsx(_Table, {\n      components: {\n        body: {\n          cell: EditableCell\n        }\n      },\n      rowClassName: function rowClassName() {\n        return 'editable-row';\n      },\n      bordered: true,\n      dataSource: dataSource,\n      columns: columns,\n      onRow: function onRow(record, rowIndex) {\n        return {\n          onClick: function onClick(event) {\n            selectProductToViewDetail(record);\n          } // click row\n\n        };\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 17\n      }\n    }))));\n  };\n\n  return viewDetailProduct ? detailProduct() : productList();\n}, \"mq9X/MN3Uot0tb2Qhc8N307GF3c=\")));\nexport default withTranslation('common')(ProductLimitSetup);\n\nvar _c;\n\n$RefreshReg$(_c, \"EditableCell\");","map":{"version":3,"sources":["/Users/admin/Desktop/tcrb-ob-project/tcrb-ob-backoffice-frontend/components/business-parameters-setup/product-limit-setup.js"],"names":["React","useState","useEffect","createRef","inject","observer","withTranslation","styled","toJS","SimpleMenu","SimpleInput","SimpleModal","Option","EditableCell","editing","dataIndex","title","inputType","record","index","children","restProps","margin","required","message","ProductLimitSetup","props","dataSource","setDataSource","viewDetailProduct","setViewDetailProduct","visible","setVisble","modalString","setModalString","showLimitPartner","setShowLimitPartner","businessParametersSetupStore","t","txnLimit","dailyLimit","getDataProductLimit","productLimit","length","addKeyToDataSource","then","result","handleDelete","key","console","log","arrayDataSource","newDataSource","Promise","resolve","convertToArrayOptionSelect","arrayObject","map","partnerList","partner_code","partner_abbreviation","submitChangeLimit","submitChangeProductLimitSelect","textAlign","product_code","selectPartnerChanel","value","selectProductToViewDetail","rowSelected","productLimitDetail","id","created_on","created_by","updated_on","updated_by","terminated_on","terminated_by","transaction_code","transaction_limit","daily_limit","status","request_status","product_description","product_type","addRowProductList","newProduct","goBackProductList","columns","render","text","selectProductToDelete","width","editable","mockDataSource","ProductCode","ProductDescription","TxnLimit","DailyLimit","detailProduct","testOption","partner_code_group","padding","item","e","paddingTop","marginTop","unlockOTP","closeModal","productList","marginBottom","body","cell","rowIndex","onClick","event"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, createRef } from 'react'\nimport { Button, Table, Popconfirm, Row, Col, Menu, Card, Input, Select } from 'antd'\nimport { inject, observer } from 'mobx-react'\nimport { withTranslation } from '../../i18n'\nimport styled from 'styled-components'\nimport { toJS } from 'mobx'\nimport SimpleMenu from '../simple-menu'\nimport SimpleInput from '../simple-input'\nimport SimpleModal from '../simple-modal'\n\nconst { Option } = Select;\nconst EditableCell = ({\n  editing,\n  dataIndex,\n  title,\n  inputType,\n  record,\n  index,\n  children,\n  ...restProps\n}) => {\n  // const inputNode = inputType === 'number' ? <InputNumber /> : <Input />;\n  return (\n    <td {...restProps}>\n      {editing ? (\n        <Form.Item\n          name={dataIndex}\n          style={{\n            margin: 0,\n          }}\n          rules={[\n            {\n              required: true,\n              message: `Please Input ${title}!`,\n            },\n          ]}\n        >\n          <Input />\n          {/* {inputNode} */}\n        </Form.Item>\n      ) : (\n          children\n        )}\n    </td>\n  );\n};\n\nconst ProductLimitSetup =\n  inject('businessParametersSetupStore')\n    (observer((props) => {\n      const [dataSource, setDataSource] = useState([])\n      const [viewDetailProduct, setViewDetailProduct] = useState(false)\n      const [visible, setVisble] = useState(false)\n      const [modalString, setModalString] = useState('')\n      const [showLimitPartner, setShowLimitPartner] = useState(false)\n      const { businessParametersSetupStore, t } = props\n      var txnLimit, dailyLimit = ''\n\n      useEffect(() => {\n        // setDataSource(mockDataSource)\n        businessParametersSetupStore.getDataProductLimit()\n\n      }, []);\n      useEffect(() => {\n        if (businessParametersSetupStore.productLimit.length > 0) {\n          addKeyToDataSource(businessParametersSetupStore.productLimit).then((result) => {\n            setDataSource(result)\n          })\n        }\n      }, [businessParametersSetupStore.productLimit])\n      const handleDelete = key => {\n        // const dataSource = [...this.state.dataSource];\n        // setDataSource(dataSource.filter(item => item.key !== key))\n        console.log(key)\n\n      };\n\n      const addKeyToDataSource = (arrayDataSource) => {\n        let newDataSource = arrayDataSource\n        for (let index = 0; index < newDataSource.length; index++) {\n          newDataSource[index].key = index + 1;\n        }\n        return new Promise((resolve) => {\n          resolve(newDataSource)\n        })\n      }\n\n      const convertToArrayOptionSelect = (arrayObject) => {\n        let result = arrayObject.map(partnerList => [partnerList.partner_code, partnerList.partner_code + '/' + partnerList.partner_abbreviation]);\n        return new Promise((resolve) => resolve(result))\n      }\n\n      const submitChangeLimit = () => {\n        // txnLimit, dailyLimit\n        // call api\n      }\n\n      const submitChangeProductLimitSelect = () => {\n        //call api\n        setVisble(true)\n        setModalString(\n          <div style={{ textAlign: \"center\" }}>\n            <p> Change Product Code {product_code} Limit !!!</p>\n          </div>\n        )\n      }\n\n      const selectPartnerChanel = (value) => {\n        //partner_code, product_code\n        // businessParametersSetupStore.getPartnerChannel()\n        setShowLimitPartner(true)\n      }\n\n      const selectProductToViewDetail = (rowSelected) => {\n        //call api to get Detail Product\n        //input {\"product_code\": \"00006\"}\n        businessParametersSetupStore.productLimitDetail = {\n          id: 7,\n          created_on: \"2020-06-15T13:09:48.000Z\",\n          created_by: \"system\",\n          updated_on: null,\n          updated_by: null,\n          terminated_on: null,\n          terminated_by: null,\n          transaction_code: \"6619\",\n          partner_code: \"\",\n          transaction_limit: \"1000000\",\n          daily_limit: \"1000000\",\n          status: \"1\",\n          request_status: \"0\",\n          product_code: \"00006\",\n          product_description: \"Test Program - High LTV ดอกเบี้ยพิเศษ 9.99%\",\n          product_type: \"NG\"\n        }\n        // Output:\n        // {\n        //   responseCode:\"S0000\",\n        //   userMessage:\"Transaction successful\",\n        //   developerMessage:\"Normal success\",\n        //   responseDateTime:\"2020-06-18 14:43:04\",\n        // responseData: {\n        //   id:7,\n        //   created_on:\"2020-06-15T13:09:48.000Z\",\n        //   created_by:\"system\",\n        //   updated_on:null,\n        //   updated_by:null,\n        //   terminated_on:null,\n        //   terminated_by:null,\n        //   transaction_code:\"6619\",\n        //   partner_code:\"\",\n        //   transaction_limit:\"1000000\",\n        //   daily_limit:\"1000000\",\n        //   status:\"1\",\n        //   request_status:\"0\",\n        //   product_code:\"00006\",\n        //   product_description:\"Test Program - High LTV ดอกเบี้ยพิเศษ 9.99%\",\n        //   product_type:\"NG\"\n        // }\n        // }\n        //call api for channel/ partner\n        //Input:\n        // \"filter\": {\n        //   \"attributes\": [\"partner_code\", \"partner_abbreviation\"]\n        // }\n        setViewDetailProduct(true)\n      }\n\n      const addRowProductList = () => {\n        let newProduct = {\n          created_by: \"system\",\n          created_on: \"2020-06-15T13:09:48.000Z\",\n          daily_limit: \"1000000\",\n          id: 7,\n          partner_code: \"\",\n          product_code: \"00006\",\n          product_description: \"Test Program - High LTV ดอกเบี้ยพิเศษ 9.99%\",\n          product_type: \"NG\",\n          request_status: \"0\",\n          status: \"1\",\n          terminated_by: null,\n          terminated_on: null,\n          transaction_code: \"6619\",\n          transaction_limit: \"1000000\",\n          updated_by: null,\n          updated_on: null\n        }\n      }\n      const goBackProductList = () => {\n        setViewDetailProduct(false)\n      }\n      const columns = [\n        {\n          // title: 'Specific Channel Limit',\n          dataIndex: 'operation',\n          render: (text, record) =>\n            dataSource.length >= 1 ? (\n              <Popconfirm title=\"Sure to delete?\" onConfirm={() => businessParametersSetupStore.selectProductToDelete(record)} >\n                <a>Delete</a>\n              </Popconfirm>\n            ) : null,\n        },\n        {\n          title: 'Product_Code',\n          dataIndex: 'product_code',\n          width: '10%',\n          editable: true,\n        },\n        {\n          title: 'Product_Description',\n          dataIndex: 'product_description',\n        },\n        {\n          title: 'All-Channel Txn Limit',\n          dataIndex: 'TxnLimit',\n        },\n        {\n          title: 'All-Channel Daily Limit',\n          dataIndex: 'daily_limit',\n        },\n        {\n          title: 'Specific Channel Limit',\n          dataIndex: 'Specific',\n        },\n      ];\n      const mockDataSource = [\n        {\n          key: '0',\n          ProductCode: 'NE',\n          ProductDescription: 'Revolving Loan-Non TCG Nano',\n          TxnLimit: '100,000.00',\n          DailyLimit: '100,000.00'\n        },\n        {\n          key: '1',\n          ProductCode: 'NG',\n          ProductDescription: 'Revolving Loan-Non TCG Micro',\n          TxnLimit: '200,000.00',\n          DailyLimit: '200,000.00'\n        },\n        {\n          key: '2',\n          ProductCode: 'NH',\n          ProductDescription: 'Revolving Loan-TCG Nano',\n          TxnLimit: '100,000.00',\n          DailyLimit: '100,000.00'\n        },\n      ]\n\n      const detailProduct = () => {\n        const testOption = [\n          {\n            partner_code: \"TMDS\",\n            partner_abbreviation: \"Micropay\",\n            partner_code_group: \"TMDS\"\n          },\n          {\n            partner_code: \"TRUM\",\n            partner_abbreviation: \"TrueWallet\",\n            partner_code_group: \"TRUM\"\n          },\n          {\n            partner_code: \"TMD1\",\n            partner_abbreviation: \"ThaiMicropay\",\n            partner_code_group: null\n          },\n          {\n            partner_code: \"OBCH\",\n            partner_abbreviation: \"TCRB\",\n            partner_code_group: null\n          }\n        ]\n        // var optionList = []\n        // convertToArrayOptionSelect(testOption).then((result) => {\n        //   optionList = result\n        // })\n        return (\n          <div>\n            <Card style={{ padding: 8 }}>\n              <Row gutter={[4, 24]}>\n                <Col span={6}>Product_Code</Col>\n                <Col span={6}>{businessParametersSetupStore.productLimitDetail.product_type}</Col>\n              </Row>\n              <Row gutter={[4, 24]}>\n                <Col span={6}>Product_Description</Col>\n                <Col span={6}>{businessParametersSetupStore.productLimitDetail.product_description}</Col>\n              </Row>\n            </Card>\n            <Card>\n              <Row gutter={[4, 24]}>\n                <Col span={6}>All-Channel Txn Limit</Col>\n                <Col span={6}>{businessParametersSetupStore.productLimitDetail.transaction_limit}</Col>\n              </Row>\n              <Row gutter={[4, 24]}>\n                <Col span={6}>All-Channel Daily Limit</Col>\n                <Col span={6}>{businessParametersSetupStore.productLimitDetail.daily_limit}</Col>\n              </Row>\n            </Card>\n            <Card>\n              <Row gutter={[4, 24]}>\n                <Col span={6}>Channel/Partner</Col>\n                <Col span={6} flex={100}>\n                  {/* <SimpleMenu options={optionList} onChange={(e) => { selectPartnerChanel(e) }} /> */}\n                  <Select\n                    onChange={(value) => selectPartnerChanel(value)}\n                    style={{ width: '100%' }}\n                  >\n                    {testOption.map((item, index) => <Option key={index} value={item.partner_code}>{item.partner_code}/{item.partner_abbreviation}</Option>)}\n                  </Select>\n                </Col>\n              </Row>\n              {(showLimitPartner) ? (\n                <>\n                  <Row>\n                    <Col span={6}>\n                      <SimpleInput readOnly={false} defaultValue={null} prefix={'Txn Limit'} onChange={(e) => { txnLimit = e }} />\n                    </Col>\n                    <Col span={2}>\n                      <p style={{ paddingTop: 4 }}>THB</p>\n                    </Col>\n                  </Row>\n                  <Row>\n                    <Col span={6}>\n                      <SimpleInput readOnly={false} defaultValue={null} prefix={'Daily Limit'} onChange={(e) => { dailyLimit = e }} />\n                    </Col>\n                    <Col span={2}>\n                      <p style={{ paddingTop: 4 }}>THB</p>\n                    </Col>\n                  </Row>\n                  <Row gutter={[4, 24]}>\n                    <Col>\n                      <Button onClick={() => { submitChangeProductLimitSelect() }}>Submit</Button>\n                    </Col>\n                  </Row>\n                </>\n              ) : ('')}\n\n            </Card>\n            <Row justify=\"center\" style={{ marginTop: 8 }}>\n              <Col span={2}>\n                <Button onClick={() => goBackProductList()} shape=\"round\">Back</Button>\n              </Col>\n              <Col span={2}>\n                <Button shape=\"round\" type=\"primary\">Submit</Button>\n              </Col>\n            </Row>\n            <SimpleModal\n              onOk={() => unlockOTP()}\n              onCancel={() => closeModal()}\n              okText={t(\"confirm\")}\n              cancelText={t(\"cancel\")}\n              modalString={modalString}\n              visible={visible}\n            />\n          </div>\n        )\n      }\n\n      const productList = () => {\n        return (\n          <div>\n            <Row>\n              <Button\n                // onClick={this.handleAdd}\n                type=\"primary\"\n                style={{\n                  marginBottom: 16,\n                }}\n              >Add a row</Button>\n            </Row>\n            <Row>\n              <Col flex={100}>\n                <Table\n                  components={{\n                    body: {\n                      cell: EditableCell,\n                    },\n                  }} rowClassName={() => 'editable-row'}\n                  bordered\n                  dataSource={dataSource}\n                  columns={columns}\n                  onRow={(record, rowIndex) => {\n                    return {\n                      onClick: event => { selectProductToViewDetail(record) }, // click row\n                    };\n                  }}\n                />\n              </Col>\n\n            </Row>\n          </div>\n        )\n      }\n      return (viewDetailProduct) ? detailProduct() : productList()\n    }))\nexport default withTranslation('common')(ProductLimitSetup)\n"]},"metadata":{},"sourceType":"module"}