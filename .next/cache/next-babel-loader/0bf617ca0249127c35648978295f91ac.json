{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/admin/Desktop/tcrb-ob-project/tcrb-ob-backoffice-frontend/components/business-parameters-setup/product-limit-setup/product-list.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport { DeleteOutlined, SettingOutlined, FormOutlined, ApartmentOutlined } from '@ant-design/icons';\nimport { Table, Row, Col, Menu, Card, Input, Select, Form, InputNumber, Divider } from 'antd';\nimport { green, gold } from '@ant-design/colors';\nimport { inject, observer } from 'mobx-react';\nimport { withTranslation } from '../../../i18n';\nimport styled from 'styled-components';\nimport { toJS } from 'mobx';\nimport { TcrbButton, TcrbPopconfirm } from '../../antd-styles/styles';\nimport { addKeyToDataSource } from '../../data-utility';\nvar ProductList = inject('businessParametersSetupStore')(observer(_s(function (props) {\n  _s();\n\n  var _useState = useState(''),\n      editingKey = _useState[0],\n      setEditingKey = _useState[1];\n\n  var _useState2 = useState(false),\n      disabledButtonAddRow = _useState2[0],\n      setDisabledButtonAddRow = _useState2[1];\n\n  var _useState3 = useState([]),\n      dataSource = _useState3[0],\n      setDataSource = _useState3[1];\n\n  var _useState4 = useState([]),\n      productList = _useState4[0],\n      setProductList = _useState4[1];\n\n  var businessParametersSetupStore = props.businessParametersSetupStore,\n      t = props.t;\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var isEditing = function isEditing(record) {\n    return record.key === editingKey;\n  };\n\n  useEffect(function () {\n    businessParametersSetupStore.getDataProductLimit();\n    businessParametersSetupStore.getDataChannelPartnerList();\n    businessParametersSetupStore.getDataProductList();\n  }, []);\n  useEffect(function () {\n    if (businessParametersSetupStore.productLimit.length > 0) {\n      addKeyToDataSource(businessParametersSetupStore.productLimit).then(function (result) {\n        businessParametersSetupStore.arrayProductLimit = result;\n        setDataSource(result);\n      });\n    }\n  }, [businessParametersSetupStore.productLimit]);\n  useEffect(function () {\n    if (businessParametersSetupStore.productList.length > 1) {\n      setProductList(businessParametersSetupStore.productList);\n    }\n  }, [businessParametersSetupStore.productList]);\n\n  var edit = function edit(record) {\n    form.setFieldsValue(_objectSpread({\n      product_type: '',\n      product_description: '',\n      transaction_limit: '',\n      daily_limit: '',\n      Specific: ''\n    }, record));\n    setEditingKey(record.key);\n  };\n\n  var EditableCell = function EditableCell(_ref) {\n    var editing = _ref.editing,\n        dataIndex = _ref.dataIndex,\n        title = _ref.title,\n        inputType = _ref.inputType,\n        record = _ref.record,\n        index = _ref.index,\n        children = _ref.children,\n        restProps = _objectWithoutProperties(_ref, [\"editing\", \"dataIndex\", \"title\", \"inputType\", \"record\", \"index\", \"children\"]);\n\n    var inputNode = inputType === 'number' ? __jsx(InputNumber, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 52\n      }\n    }) : __jsx(Input, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 70\n      }\n    });\n    return __jsx(\"td\", _extends({}, restProps, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }), editing ? __jsx(Form.Item, {\n      name: dataIndex == 'product_type' ? 'product_code' : dataIndex,\n      style: {\n        margin: 0\n      },\n      rules: [{\n        required: inputType === 'number' ? true : false,\n        message: \"Please Input \".concat(title, \"!\")\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }, dataIndex == 'product_type' ? __jsx(Select, {\n      style: {\n        width: '100%'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 19\n      }\n    }, productList.map(function (item, index) {\n      return __jsx(Option, {\n        key: index,\n        value: item.product_code,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 55\n        }\n      }, item.product_type);\n    })) : __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, inputNode)) : children);\n  };\n\n  var addRowProductList = function addRowProductList() {\n    var newProduct = {\n      key: dataSource.length + 1,\n      product_code: '',\n      product_description: '',\n      transaction_limit: '',\n      daily_limit: '',\n      Specific: ''\n    };\n    setDataSource([].concat(_toConsumableArray(dataSource), [newProduct]));\n    edit(newProduct);\n    setDisabledButtonAddRow(true);\n    businessParametersSetupStore.arrayProductLimit = dataSource;\n  };\n\n  var submitAddnewProduct = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(key) {\n      var row, indexProduct, newData, index, item;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return form.validateFields();\n\n            case 2:\n              row = _context.sent;\n              row.status = '2';\n              row.transaction_code = \"6931\";\n              indexProduct = productList.findIndex(function (item) {\n                return row.product_code === item.product_code;\n              });\n              row.product_type = productList[indexProduct].product_type;\n              newData = _toConsumableArray(dataSource);\n              index = newData.findIndex(function (item) {\n                return key === item.key;\n              });\n\n              if (index > -1) {\n                item = newData[index];\n                newData.splice(index, 1, _objectSpread(_objectSpread({}, item), row));\n                setDataSource(newData);\n                setEditingKey('');\n              } else {\n                newData.push(row);\n                setDataSource(newData);\n                setEditingKey('');\n              }\n\n              setDisabledButtonAddRow(false);\n              businessParametersSetupStore.addNewProductLimit(row);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function submitAddnewProduct(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var cancelAddNewProduct = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(key) {\n      var indexProduct, newData;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setDisabledButtonAddRow(false);\n              indexProduct = dataSource.findIndex(function (item) {\n                return key === item.key;\n              });\n              newData = _toConsumableArray(dataSource);\n              newData.splice(indexProduct, 1);\n              setDataSource(newData);\n              setEditingKey('');\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function cancelAddNewProduct(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var submitDeleteProduct = function submitDeleteProduct(record) {\n    //call api to update record status\n    console.log(toJS(record));\n    var indexRecordDelete = dataSource.findIndex(function (item) {\n      return record.key === item.key;\n    });\n\n    var newData = _toConsumableArray(dataSource);\n\n    newData[indexRecordDelete].status = '2';\n    businessParametersSetupStore.deleteProductLimit(record);\n    setDataSource(newData); //waiting useEffect to check api success\n  };\n\n  var renderOnclickHandler = function renderOnclickHandler(text, record) {\n    var stringToNumber = new Number(text);\n\n    if (isNaN(stringToNumber)) {\n      return __jsx(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 18\n        }\n      }, text);\n    } else {\n      var customText = stringToNumber.toLocaleString();\n      return __jsx(\"p\", {\n        style: {\n          textAlign: \"right\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 18\n        }\n      }, customText);\n    }\n  };\n\n  var selectProductToViewDetail = function selectProductToViewDetail(rowSelected) {\n    //call api to get Detail Product\n    businessParametersSetupStore.getDataDetailProductLimit(rowSelected.product_code); // businessParametersSetupStore.getDataChannelPartnerList()\n  };\n\n  var selectProductToSpecificLimit = function selectProductToSpecificLimit(record) {\n    businessParametersSetupStore.productSelect = record;\n    businessParametersSetupStore.nextPageIsAddPartner = true; // setViewSpecificProduct(true)\n  };\n\n  var renderActionAddDeleteHandler = function renderActionAddDeleteHandler(record, index) {\n    if (record.status === '1') {\n      return __jsx(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }\n      }, __jsx(TcrbPopconfirm, {\n        title: \"Sure to Delete?\",\n        onConfirm: function onConfirm(e) {\n          submitDeleteProduct(record);\n        },\n        disabled: editingKey !== '',\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 15\n        }\n      }, __jsx(\"a\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 17\n        }\n      }, __jsx(DeleteOutlined, {\n        style: {\n          fontSize: '18px'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 20\n        }\n      }))), __jsx(\"a\", {\n        onClick: function onClick() {\n          return selectProductToViewDetail(record);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 15\n        }\n      }, __jsx(FormOutlined, {\n        style: {\n          fontSize: '18px',\n          color: '#FBA928'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 68\n        }\n      })));\n    } else if (record.status === '2') {\n      return null;\n    } else {\n      return __jsx(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 19\n        }\n      }, __jsx(TcrbPopconfirm, {\n        title: \"Confirm to Add !!!\",\n        onConfirm: function onConfirm() {\n          submitAddnewProduct(record.key);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }\n      }, __jsx(\"a\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 15\n        }\n      }, \"Confirm\")), __jsx(\"br\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 30\n        }\n      }), __jsx(TcrbPopconfirm, {\n        title: \"Confirm to Cancel !!!\",\n        onConfirm: function onConfirm() {\n          cancelAddNewProduct(record.key);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }\n      }, __jsx(\"a\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 15\n        }\n      }, \"Cancel\")));\n    }\n  };\n\n  var renderStatus = function renderStatus(record) {\n    if (record.status === '1') {\n      return __jsx(\"p\", {\n        style: {\n          color: green[6]\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 18\n        }\n      }, \"Active\");\n    } else if (record.status === '2') {\n      return __jsx(\"p\", {\n        style: {\n          color: gold[6]\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 18\n        }\n      }, \"Pending\");\n    } else {\n      return null;\n    }\n  };\n\n  var renderActionSpecificHandler = function renderActionSpecificHandler(record) {\n    return __jsx(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 16\n      }\n    }, __jsx(\"a\", {\n      onClick: function onClick() {\n        return selectProductToSpecificLimit(record);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 53\n      }\n    }, __jsx(ApartmentOutlined, {\n      style: {\n        fontSize: '18px',\n        color: '#FBA928'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 109\n      }\n    })));\n  };\n\n  var columns = [{\n    dataIndex: 'operation',\n    render: function render(text, record, index) {\n      return renderStatus(record, index);\n    }\n  }, {\n    title: 'Product_Code',\n    dataIndex: 'product_type',\n    width: '5%',\n    editable: true,\n    render: function render(text, record) {\n      return renderOnclickHandler(text, record);\n    }\n  }, {\n    title: 'Product_Description',\n    dataIndex: 'product_description',\n    editable: true,\n    render: function render(text, record) {\n      return renderOnclickHandler(text, record);\n    }\n  }, {\n    title: 'All-Channel Txn Limit',\n    dataIndex: 'transaction_limit',\n    editable: true,\n    render: function render(text, record) {\n      return renderOnclickHandler(text, record);\n    }\n  }, {\n    title: 'All-Channel Daily Limit',\n    dataIndex: 'daily_limit',\n    editable: true,\n    render: function render(text, record) {\n      return renderOnclickHandler(text, record);\n    }\n  }, {\n    title: 'Specific Channel Limit',\n    dataIndex: 'Specific',\n    // editable: true,\n    render: function render(text, record) {\n      return renderActionSpecificHandler(text, record);\n    }\n  }, {\n    title: 'Action',\n    dataIndex: 'operation',\n    render: function render(text, record, index) {\n      return renderActionAddDeleteHandler(record, index);\n    }\n  }];\n  var mergedColumns = columns.map(function (col) {\n    if (!col.editable) {\n      return col;\n    }\n\n    return _objectSpread(_objectSpread({}, col), {}, {\n      onCell: function onCell(record) {\n        return {\n          record: record,\n          inputType: col.dataIndex === 'product_description' ? 'text' : 'number',\n          dataIndex: col.dataIndex,\n          title: col.title,\n          editing: isEditing(record)\n        };\n      }\n    });\n  });\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 9\n    }\n  }, __jsx(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 11\n    }\n  }, __jsx(TcrbButton, {\n    onClick: function onClick() {\n      return addRowProductList();\n    },\n    style: {\n      marginBottom: 16\n    },\n    disabled: disabledButtonAddRow,\n    className: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 13\n    }\n  }, \"Add a Product\")), __jsx(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 11\n    }\n  }, __jsx(Col, {\n    flex: 100,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 13\n    }\n  }, __jsx(Form, {\n    form: form,\n    component: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 15\n    }\n  }, __jsx(Table, {\n    components: {\n      body: {\n        cell: EditableCell\n      }\n    },\n    bordered: true,\n    dataSource: dataSource,\n    columns: mergedColumns,\n    size: \"small\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 17\n    }\n  })))));\n}, \"mgLZvMPmu9eu96crxdsWDA0xEXo=\", false, function () {\n  return [Form.useForm];\n})));\nexport default withTranslation('common')(ProductList);","map":{"version":3,"sources":["/Users/admin/Desktop/tcrb-ob-project/tcrb-ob-backoffice-frontend/components/business-parameters-setup/product-limit-setup/product-list.js"],"names":["React","useState","useEffect","DeleteOutlined","SettingOutlined","FormOutlined","ApartmentOutlined","Table","Row","Col","Menu","Card","Input","Select","Form","InputNumber","Divider","green","gold","inject","observer","withTranslation","styled","toJS","TcrbButton","TcrbPopconfirm","addKeyToDataSource","ProductList","props","editingKey","setEditingKey","disabledButtonAddRow","setDisabledButtonAddRow","dataSource","setDataSource","productList","setProductList","businessParametersSetupStore","t","useForm","form","isEditing","record","key","getDataProductLimit","getDataChannelPartnerList","getDataProductList","productLimit","length","then","result","arrayProductLimit","edit","setFieldsValue","product_type","product_description","transaction_limit","daily_limit","Specific","EditableCell","editing","dataIndex","title","inputType","index","children","restProps","inputNode","margin","required","message","width","map","item","product_code","addRowProductList","newProduct","submitAddnewProduct","validateFields","row","status","transaction_code","indexProduct","findIndex","newData","splice","push","addNewProductLimit","cancelAddNewProduct","submitDeleteProduct","console","log","indexRecordDelete","deleteProductLimit","renderOnclickHandler","text","stringToNumber","Number","isNaN","customText","toLocaleString","textAlign","selectProductToViewDetail","rowSelected","getDataDetailProductLimit","selectProductToSpecificLimit","productSelect","nextPageIsAddPartner","renderActionAddDeleteHandler","e","fontSize","color","renderStatus","renderActionSpecificHandler","columns","render","editable","mergedColumns","col","onCell","marginBottom","body","cell"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { DeleteOutlined, SettingOutlined, FormOutlined, ApartmentOutlined } from '@ant-design/icons';\nimport { Table, Row, Col, Menu, Card, Input, Select, Form, InputNumber, Divider } from 'antd'\nimport { green, gold } from '@ant-design/colors';\nimport { inject, observer } from 'mobx-react'\nimport { withTranslation } from '../../../i18n'\nimport styled from 'styled-components'\nimport { toJS } from 'mobx'\nimport { TcrbButton, TcrbPopconfirm } from '../../antd-styles/styles'\nimport { addKeyToDataSource } from '../../data-utility'\n\n\nconst ProductList =\n  inject('businessParametersSetupStore')\n    (observer((props) => {\n      const [editingKey, setEditingKey] = useState('')\n      const [disabledButtonAddRow, setDisabledButtonAddRow] = useState(false)\n      const [dataSource, setDataSource] = useState([])\n      const [productList, setProductList] = useState([])\n\n      const { businessParametersSetupStore, t } = props\n      const [form] = Form.useForm();\n      const isEditing = record => record.key === editingKey;\n\n      useEffect(() => {\n        businessParametersSetupStore.getDataProductLimit()\n        businessParametersSetupStore.getDataChannelPartnerList()\n        businessParametersSetupStore.getDataProductList()\n      }, []);\n\n      useEffect(() => {\n        if (businessParametersSetupStore.productLimit.length > 0) {\n          addKeyToDataSource(businessParametersSetupStore.productLimit).then((result) => {\n            businessParametersSetupStore.arrayProductLimit = result\n            setDataSource(result)\n          })\n        }\n      }, [businessParametersSetupStore.productLimit])\n\n      useEffect(() => {\n        if (businessParametersSetupStore.productList.length > 1) {\n          setProductList(businessParametersSetupStore.productList)\n        }\n      }, [businessParametersSetupStore.productList])\n\n      const edit = record => {\n        form.setFieldsValue({\n          product_type: '',\n          product_description: '',\n          transaction_limit: '',\n          daily_limit: '',\n          Specific: '',\n          ...record,\n        });\n        setEditingKey(record.key);\n      };\n      const EditableCell = ({\n        editing,\n        dataIndex,\n        title,\n        inputType,\n        record,\n        index,\n        children,\n        ...restProps\n      }) => {\n        const inputNode = inputType === 'number' ? <InputNumber /> : <Input />;\n        return (\n          <td {...restProps}>\n            {editing ? (\n\n              <Form.Item\n                name={dataIndex == 'product_type' ? 'product_code' : dataIndex}\n                style={{\n                  margin: 0,\n                }}\n                rules={[\n                  {\n                    required: (inputType === 'number') ? true : false,\n                    message: `Please Input ${title}!`,\n                  },\n                ]}\n              >\n                {/* {inputNode} */}\n                {dataIndex == 'product_type' ? (\n                  <Select\n                    style={{ width: '100%' }}\n                  >\n                    {productList.map((item, index) => <Option key={index} value={item.product_code}>{item.product_type}</Option>)}\n                  </Select>) : (\n                    <div>\n                      {inputNode}\n                    </div>\n                  )}\n              </Form.Item>\n            ) : (\n                children\n              )\n            }\n          </td>\n        );\n      };\n      const addRowProductList = () => {\n        let newProduct = {\n          key: dataSource.length + 1,\n          product_code: '',\n          product_description: '',\n          transaction_limit: '',\n          daily_limit: '',\n          Specific: '',\n        }\n        setDataSource([...dataSource, newProduct])\n        edit(newProduct)\n        setDisabledButtonAddRow(true)\n        businessParametersSetupStore.arrayProductLimit = dataSource\n      }\n      const submitAddnewProduct = async (key) => {\n        // Call api to update record status\n        const row = await form.validateFields();\n        row.status = '2'\n        row.transaction_code = \"6931\"\n        let indexProduct = productList.findIndex(item => row.product_code === item.product_code)\n        row.product_type = productList[indexProduct].product_type\n        const newData = [...dataSource];\n        const index = newData.findIndex(item => key === item.key);\n        if (index > -1) {\n          const item = newData[index];\n          newData.splice(index, 1, { ...item, ...row });\n          setDataSource(newData);\n          setEditingKey('');\n        } else {\n          newData.push(row);\n          setDataSource(newData);\n          setEditingKey('');\n        }\n        setDisabledButtonAddRow(false)\n        businessParametersSetupStore.addNewProductLimit(row)\n      }\n\n      const cancelAddNewProduct = async (key) => {\n        setDisabledButtonAddRow(false)\n        let indexProduct = dataSource.findIndex(item => key === item.key)\n        const newData = [...dataSource]\n        newData.splice(indexProduct, 1)\n        setDataSource(newData);\n        setEditingKey('');\n      }\n\n      const submitDeleteProduct = (record) => {\n        //call api to update record status\n        console.log(toJS(record))\n        let indexRecordDelete = dataSource.findIndex(item => record.key === item.key)\n        const newData = [...dataSource];\n        newData[indexRecordDelete].status = '2'\n        businessParametersSetupStore.deleteProductLimit(record)\n        setDataSource(newData) //waiting useEffect to check api success\n      }\n      const renderOnclickHandler = (text, record) => {\n        let stringToNumber = new Number(text)\n        if (isNaN(stringToNumber)) {\n          return <p>{text}</p>\n        } else {\n          let customText = stringToNumber.toLocaleString()\n          return <p style={{ textAlign: \"right\" }}>{customText}</p>\n        }\n      }\n      const selectProductToViewDetail = (rowSelected) => {\n        //call api to get Detail Product\n        businessParametersSetupStore.getDataDetailProductLimit(rowSelected.product_code)\n        // businessParametersSetupStore.getDataChannelPartnerList()\n      }\n\n      const selectProductToSpecificLimit = (record) => {\n        businessParametersSetupStore.productSelect = record\n        businessParametersSetupStore.nextPageIsAddPartner = true\n        // setViewSpecificProduct(true)\n      }\n      const renderActionAddDeleteHandler = (record, index) => {\n        if (record.status === '1') {\n          return (\n            <div style={{ textAlign: \"center\" }}>\n              <TcrbPopconfirm title=\"Sure to Delete?\" onConfirm={(e) => { submitDeleteProduct(record) }} disabled={editingKey !== ''}>\n                <a><DeleteOutlined style={{ fontSize: '18px' }} /></a>\n              </TcrbPopconfirm>\n              <a onClick={() => selectProductToViewDetail(record)}><FormOutlined style={{ fontSize: '18px', color: '#FBA928' }} /></a>\n              {/* <a onClick={() => selectProductToSpecificLimit(record)}><ApartmentOutlined style={{ fontSize: '18px', color: '#FBA928' }} /></a> */}\n            </div>)\n        } else if (record.status === '2') {\n          return null\n        } else {\n          return (<div>\n            <TcrbPopconfirm title={\"Confirm to Add !!!\"} onConfirm={() => { submitAddnewProduct(record.key) }} >\n              <a>Confirm</a>\n            </TcrbPopconfirm><br />\n            <TcrbPopconfirm title={\"Confirm to Cancel !!!\"} onConfirm={() => { cancelAddNewProduct(record.key) }} >\n              <a>Cancel</a>\n            </TcrbPopconfirm>\n          </div>)\n        }\n      }\n      const renderStatus = (record) => {\n        if (record.status === '1') {\n          return <p style={{ color: green[6] }}>Active</p>\n        } else if (record.status === '2') {\n          return <p style={{ color: gold[6] }}>Pending</p>\n        } else {\n          return null\n        }\n      }\n      const renderActionSpecificHandler = (record) => {\n        return <div style={{ textAlign: \"center\" }}><a onClick={() => selectProductToSpecificLimit(record)}><ApartmentOutlined style={{ fontSize: '18px', color: '#FBA928' }} /></a></div>\n      }\n      const columns = [\n        {\n          dataIndex: 'operation',\n          render: (text, record, index) =>\n            renderStatus(record, index)\n        },\n        {\n          title: 'Product_Code',\n          dataIndex: 'product_type',\n          width: '5%',\n          editable: true,\n          render: (text, record) => renderOnclickHandler(text, record)\n        },\n        {\n          title: 'Product_Description',\n          dataIndex: 'product_description',\n          editable: true,\n          render: (text, record) => renderOnclickHandler(text, record)\n        },\n        {\n          title: 'All-Channel Txn Limit',\n          dataIndex: 'transaction_limit',\n          editable: true,\n          render: (text, record) => renderOnclickHandler(text, record)\n        },\n        {\n          title: 'All-Channel Daily Limit',\n          dataIndex: 'daily_limit',\n          editable: true,\n          render: (text, record) => renderOnclickHandler(text, record)\n        },\n        {\n          title: 'Specific Channel Limit',\n          dataIndex: 'Specific',\n          // editable: true,\n          render: (text, record) => renderActionSpecificHandler(text, record)\n        },\n        {\n          title: 'Action',\n          dataIndex: 'operation',\n          render: (text, record, index) =>\n            renderActionAddDeleteHandler(record, index)\n        },\n      ];\n\n      const mergedColumns = columns.map(col => {\n        if (!col.editable) {\n          return col;\n        }\n\n        return {\n          ...col,\n          onCell: record => ({\n            record,\n            inputType: col.dataIndex === 'product_description' ? 'text' : 'number',\n            dataIndex: col.dataIndex,\n            title: col.title,\n            editing: isEditing(record),\n          }),\n        };\n      });\n      return (\n        <div>\n          <Row>\n            <TcrbButton\n              onClick={() => addRowProductList()}\n              style={{\n                marginBottom: 16,\n              }}\n              disabled={disabledButtonAddRow}\n              className=\"primary\">Add a Product</TcrbButton>\n          </Row>\n          <Row>\n            <Col flex={100}>\n              <Form form={form} component={false}>\n\n                <Table\n                  components={{\n                    body: {\n                      cell: EditableCell,\n                    },\n                  }}\n                  bordered\n                  dataSource={dataSource}\n                  columns={mergedColumns}\n                  size=\"small\"\n                />\n              </Form>\n            </Col>\n\n          </Row>\n        </div>\n      )\n    }))\nexport default withTranslation('common')(ProductList)\n"]},"metadata":{},"sourceType":"module"}